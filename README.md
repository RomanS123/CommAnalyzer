# Анализ комментариев под видео на YouTube

## Описание проекта

Данное приложение представляет собой десктопное приложение для анализа комментариев под видео на YouTube. Пользователь может вводить ссылку на видео, после чего приложение загружает комментарии через API YouTube, классифицирует их с помощью нейросети и визуализирует результаты анализа. Кроме того, приложение предоставляет возможность просмотра истории предыдущих анализов.

## Тема проекта

**Тема проекта:** Разработка десктопного приложения для анализа настроений комментариев под видео на YouTube с помощью нейросетей.

## Информация об авторе проекта

- **ФИО**: Шевчук Роман Иванович
- **Номер группы**: Б05-253

## Реализуемый функционал

- **Ввод ссылки на видео**: Пользователь может ввести URL видео на YouTube для анализа комментариев.
- **Просмотр истории анализов**: Кнопка "История" позволяет просмотреть предыдущие анализы комментариев.
- **Загрузка комментариев**: Приложение загружает комментарии к указанному видео через API YouTube.
- **Классификация комментариев**: Комментарии классифицируются по настроению (нейтральные, позитивные, негативные) с помощью нейросети.
- **Визуализация настроений**: Построение круговой диаграммы (pie chart) для отображения распределения настроений комментариев.
- **Обработка комментариев**: Перевод комментариев в векторное пространство для дальнейшего анализа.
- **Визуализация кластеров**: Построение графика кластеров на основе пониженной размерности (PCA) и выделение кластеров с помощью алгоритма KMeans.
- **Суммаризация комментариев**: Суммаризация комментариев внутри каждого кластера с помощью нейросети.

## Планируемые библиотеки

1. **GUI**: PyQt5 или Tkinter для создания пользовательского интерфейса.
2. **Взаимодействие с YouTube API**: `google-api-python-client` для получения комментариев.
3. **Визуализация данных**: 
   - Matplotlib или Plotly для построения круговых диаграмм настроений.
   - Seaborn для дополнительных аналитических графиков.
4. **Обработка данных**: 
   - Pandas для обработки текстовых данных и работы с таблицами.
   - NumPy для обработки и манипуляций с массивами данных.
5. **Машинное обучение**:
   - TensorFlow или PyTorch для обучения и работы с моделями нейросетей.
   - Scikit-learn для кластеризации (алгоритм KMeans) и работы с PCA (Principal Component Analysis) для снижения размерности.
6. **Хранение данных**: SQLite или JSON для сохранения истории анализов.

## Поддерживаемые версии Python

Приложение планируется поддерживать версии Python 3.8 и выше. Это обеспечивает совместимость с основными библиотеками и стандартами Python, что важно для актуальных библиотек машинного обучения и визуализации.

## Архитектура

Проект разделен на несколько основных компонентов, каждый из которых отвечает за определенную функциональность. Ниже представлены основные классы и функции, которые будут использоваться в проекте.

### Классы

#### 1. `MainWindow`
- **Описание**: Основное окно приложения.
- **Атрибуты**:
  - `url_input`: Поле ввода URL видео.
  - `history_button`: Кнопка для просмотра истории анализов.
  - `analyze_button`: Кнопка для запуска анализа.
  - `charts_area`: Область для отображения графиков.
- **Методы**:
  - `__init__()`: Инициализация элементов интерфейса.
  - `load_comments(url)`: Загрузка комментариев по заданному URL.
  - `classify_comments(comments)`: Классификация комментариев по настроению.
  - `display_pie_chart(sentiments)`: Отображение круговой диаграммы настроений.
  - `process_comments(comments)`: Перевод комментариев в векторное пространство.
  - `display_clusters(vectors)`: Визуализация кластеров.
  - `summarize_clusters(clusters)`: Суммаризация комментариев внутри кластеров.
  - `show_history()`: Отображение истории анализов.

#### 2. `YouTubeAPI`
- **Описание**: Класс для взаимодействия с API YouTube.
- **Атрибуты**:
  - `api_key`: Ключ API для доступа к YouTube.
- **Методы**:
  - `get_comments(video_url)`: Получение комментариев по URL видео.

#### 3. `SentimentClassifier`
- **Описание**: Класс для классификации настроений комментариев.
- **Атрибуты**:
  - `model`: Предобученная нейросеть для классификации.
- **Методы**:
  - `classify(comment)`: Классификация одного комментария.
  - `classify_batch(comments)`: Классификация списка комментариев.

#### 4. `HistoryManager`
- **Описание**: Класс для управления историей анализов.
- **Атрибуты**:
  - `history_file`: Файл для хранения истории.
- **Методы**:
  - `add_record(record)`: Добавление записи в историю.
  - `get_history()`: Получение списка предыдущих анализов.

### Функции

- `create_pie_chart(data)`: Функция для создания круговой диаграммы настроений.
- `create_cluster_graph(vectors)`: Функция для построения графика кластеров.
- `summarize_texts(texts)`: Функция для суммаризации списка текстов с помощью нейросети.

## Развёрнутое описание архитектуры

Архитектура приложения построена модульно, разделяя функциональные компоненты для лучшей поддержки и расширяемости. Это позволяет добавлять новые функции и модификации без значительных изменений в других частях системы.

1. **Пользовательский интерфейс (`MainWindow`)**:
   - Основной класс `MainWindow` управляет пользовательским интерфейсом. 
   - Содержит элементы управления для ввода URL, кнопки анализа и просмотра истории, а также область для отображения графиков и диаграмм.
   - Обработка действий пользователя реализована методами: `load_comments(url)` для загрузки комментариев, `classify_comments(comments)` для анализа настроения, `display_pie_chart(sentiments)` для визуализации результатов, а также `show_history()` для отображения истории.

2. **Модуль взаимодействия с API (`YouTubeAPI`)**:
   - `YouTubeAPI` — класс, отвечающий за работу с API YouTube.
   - Содержит методы, обеспечивающие безопасное получение комментариев для видео по его URL.
   - Инкапсулирует ключ API, управляя безопасностью данных и обработкой запросов к YouTube API.

3. **Модуль классификации настроений (`SentimentClassifier`)**:
   - `SentimentClassifier` отвечает за классификацию комментариев по настроению.
   - Содержит метод `classify(comment)` для классификации одного комментария и `classify_batch(comments)` для анализа списка комментариев.
   - Использует предобученную нейросеть на базе TensorFlow или PyTorch, способную различать позитивные, негативные и нейтральные комментарии.

4. **Модуль управления историей (`HistoryManager`)**:
   - `HistoryManager` отвечает за сохранение и извлечение данных о предыдущих анализах, обеспечивая доступ к истории анализа для пользователя.
   - Содержит методы `add_record(record)` для добавления новой записи в историю и `get_history()` для получения всех записей истории.
   - Поддерживает сохранение данных в JSON-файл или SQLite базу данных.

5. **Обработка и визуализация данных**:
   - **Классификация и визуализация настроений**: Комментарии анализируются с помощью `SentimentClassifier`, а затем результаты отображаются в виде круговой диаграммы (pie chart) с помощью `display_pie_chart`.
   - **Кластеризация комментариев и визуализация кластеров**: После обработки комментариев `process_comments` (преобразование в векторное пространство), происходит кластеризация с применением PCA и KMeans. Классы отображаются на двумерном графике, который строится с использованием `display_clusters`.
   - **Суммаризация текста**: Модуль суммаризации на основе нейросети (например, Transformer-based моделей) используется для генерации кратких суммарных текстов каждого кластера, что упрощает понимание основных тем.

6. **Функции визуализации и обработки (`create_pie_chart`, `create_cluster_graph`, `summarize_texts`)**:
   - `create_pie_chart(data)`: Создает круговую диаграмму, визуализируя распределение настроений.
   - `create_cluster_graph(vectors)`: Отображает график кластеров, позволяя выявить тематические группы комментариев.
   - `summarize_texts(texts)`: Генерирует краткие описания для комментариев в каждом кластере.


